<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo app</title>
</head>
<body>
    <% if(context.message){ %>
        <li> <%=context.message %> </li>
    <% } %>
    <h1>Hello world</h1>
    <form method="post" action="/new" >
        <input type="text" placeholder="add new todo" name="title" />
        <input type="submit" value="Add todo" />
    </form>
    <ul>
        <% context.todos.map((todo) => { %>
            <li>
                <% if (todo.done){ %>
                <s>
                <%  } %>
                <%= todo.id %>
                <%=todo.title %>
                <form style="display:inline-block;background-color:green" method="post" action="/done/<%=todo.id%>">
                    <input type="submit" value="done" />
                </form>
                <form style="display:inline-block;background-color:red" method="post" action="/delete/<%=todo.id%>">
                    <input type="submit" value="delete" />
                </form>
                <% if (todo.done){ %>
                </s>
                <% } %>
            </li>
            <hr />
        <% }) %>
    </ul>
</body>
</html>